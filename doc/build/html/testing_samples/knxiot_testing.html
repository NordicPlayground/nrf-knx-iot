

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>KNX IoT testing &mdash; KNX IoT  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/nordic.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/nordic.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />

  
  

  
  

  

  
  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
  <script type="text/javascript" src="../_static/js/ncs.js"></script>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release notes" href="../knxiot_release_notes.html" />
    <link rel="prev" title="KNX IoT Point API stack configuration" href="nordic_knxiot_cli.html" />
  <link rel="shortcut icon" href="../_static/images/favicon.ico"/>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> KNX IoT
          

          
          </a>

          
            
            
          

          
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Subpages:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_knxiot.html">About KNX IoT Point API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setting_up_knxiot_environment/setting_up_knxiot_environment.html">KNX IoT environment setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="samples.html">Samples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="samples_overview.html">Samples overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="samples_list.html">List of KNX IoT application samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="nordic_knxiot_cli.html">KNX IoT Point API stack configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">KNX IoT testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#starting-thread-network">Starting Thread network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-light-switch-sensor-to-light-switch-actuator">Connecting Light Switch Sensor to Light Switch Actuator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#leds-and-buttons-location">LEDs and buttons location</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-1-one-button-mapped-to-four-leds">Example 1 - one button mapped to four LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-2-one-button-mapped-to-one-led">Example 2 - one button mapped to one LED</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-3-mixed-configuration">Example 3 - Mixed configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sniffing-knx-iot-point-api-communication">Sniffing KNX IoT Point API communication</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../knxiot_release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knxiot_known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../additional_resources.html">Additional resources</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KNX IoT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="samples.html">Samples</a> &raquo;</li>
        
      <li>KNX IoT testing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/testing_samples/knxiot_testing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="knx-iot-testing">
<span id="knxiot-testing"></span><h1>KNX IoT testing<a class="headerlink" href="#knx-iot-testing" title="Permalink to this headline">¶</a></h1>
<p>With the <a class="reference internal" href="knxiot_application_samples/light_switch_actuator.html#light-switch-actuator"><span class="std std-ref">Light Switch Actuator</span></a> and <a class="reference internal" href="knxiot_application_samples/light_switch_sensor.html#light-switch-sensor"><span class="std std-ref">Light Switch Sensor</span></a> installed, you will be able to test a simple KNX IoT system consisted of two Thread-based devices.</p>
<div class="section" id="starting-thread-network">
<span id="id1"></span><h2>Starting Thread network<a class="headerlink" href="#starting-thread-network" title="Permalink to this headline">¶</a></h2>
<p>The devices enable the Thread interface during startup automatically.
They are configured to create and join Thread network with the following parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PAN ID</p></td>
<td><p>0xabcd</p></td>
</tr>
<tr class="row-odd"><td><p>Channel</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-even"><td><p>Network name</p></td>
<td><p>KNX</p></td>
</tr>
<tr class="row-odd"><td><p>Extended PAN ID</p></td>
<td><p>dead00beef00cafe</p></td>
</tr>
<tr class="row-even"><td><p>Network key</p></td>
<td><p>00112233445566778899aabbccddeeff</p></td>
</tr>
</tbody>
</table>
<p>To verify Thread devices status, do the following:</p>
<ol class="arabic">
<li><p>Check active data.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot dataset active
<span class="go">Active Timestamp: 1</span>
<span class="go">Channel: 15</span>
<span class="go">Channel Mask: 0x07fff800</span>
<span class="go">Ext PAN ID: 3b78ce629cbc8e23</span>
<span class="go">Mesh Local Prefix: fdd7:9fa0:468:ba1b::/64</span>
<span class="go">Network Key: 00112233445566778899aabbccddeeff</span>
<span class="go">Network Name: OpenThread-7cf7</span>
<span class="go">PAN ID: 0x7cf7</span>
<span class="go">PSKc: b2e04e90cef89d25981a7dd8f3c16db5</span>
<span class="go">Security Policy: 672 onrc</span>
<span class="go">Done</span>
</pre></div>
</div>
</li>
<li><p>Verify devices’ roles.</p></li>
</ol>
<blockquote>
<div><ul>
<li><p>Check if one of devices is set as a Thread leader.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot state
<span class="go">leader</span>
<span class="go">Done</span>
</pre></div>
</div>
</li>
<li><p>Check if another device is either a Thread child or leader:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot state
<span class="go">child</span>
<span class="go">Done</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot state
<span class="go">leader</span>
<span class="go">Done</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="connecting-light-switch-sensor-to-light-switch-actuator">
<h2>Connecting Light Switch Sensor to Light Switch Actuator<a class="headerlink" href="#connecting-light-switch-sensor-to-light-switch-actuator" title="Permalink to this headline">¶</a></h2>
<p>KNX IoT devices, just as the classic KNX devices, consist of one or many Functional Blocks.
The Functional Block contains one or more Datapoints which are its inputs, outputs, and parameters.</p>
<p>The most important feature of Datapoint’s description is its type.
The type specifies how the Datapoint is encoded, its supported range, units, an so on.
All Datapoints of given Functional Block and featured types are described in the <a class="reference external" href="https://www.knx.org/wAssets/docs/downloads/Certification/Interworking-Datapoint-types/03_07_02-Datapoint-Types-v02.02.01-AS.pdf">KNX Specification</a> page.</p>
<p>Both Light Switch Actuator and Sensor are built with 4 Functional Blocks with a single Switch On/Off Datapoint (type name: DPT_Switch, id: 1.001).
Every Datapoint controls a single <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> LED (actuator) or is controlled by a single <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> button (sensor).
For communication between KNX IoT Point API, devices send s-mode messages over the CoAP protocol.
A recipient of the message checks its Group Object Table to verify that it is capable of processing it.</p>
<p>Tables below present configuration of Datapoints for Actuator and Sensor devices.</p>
<ul>
<li><p>Light Switch Actuator Datapoints</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 28%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>LED</p></th>
<th class="head"><p>Path</p></th>
<th class="head"><p>GET</p></th>
<th class="head"><p>SET</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LED1</p></td>
<td><p>/p/1</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>LED2</p></td>
<td><p>/p/2</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>LED3</p></td>
<td><p>/p/3</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>LED4</p></td>
<td><p>/p/4</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>Light Switch Sensor Datapoints</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 26%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Button</p></th>
<th class="head"><p>Path</p></th>
<th class="head"><p>GET</p></th>
<th class="head"><p>SET</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUTTON1</p></td>
<td><p>/p/1</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>BUTTON2</p></td>
<td><p>/p/2</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>BUTTON3</p></td>
<td><p>/p/3</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>BUTTON4</p></td>
<td><p>/p/4</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="section" id="leds-and-buttons-location">
<h2>LEDs and buttons location<a class="headerlink" href="#leds-and-buttons-location" title="Permalink to this headline">¶</a></h2>
<p>All samples run on the <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> board.
The picture below presents a location of LEDs (yellow rectangle) and buttons (green rectangle) used in examples.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="Location of DKs LEDs (yellow rectangle) and buttons (green rectangle)" src="../_images/dk_leds_and_buttons.png" />
</div>
</div></blockquote>
</div>
<div class="section" id="example-1-one-button-mapped-to-four-leds">
<h2>Example 1 - one button mapped to four LEDs<a class="headerlink" href="#example-1-one-button-mapped-to-four-leds" title="Permalink to this headline">¶</a></h2>
<p>Having Thread network configured and operational, you can start KNX IoT device configuration and testing.
One device must be configured as the Actuator and one as the Sensor.</p>
<p>One button of KNX IoT Actuator <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> device will control four LEDs built in to KNX IoT Sensor <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> device.</p>
<ol class="arabic">
<li><p>Configure the Actuator device by adding entries to Actuator’s Group Object Table with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">got</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx got add <span class="m">1</span> /p/1 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">2</span> /p/2 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">3</span> /p/3 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">4</span> /p/4 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Set device installation identifier and device individual address for Actuator device with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">dev</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx dev iid <span class="m">1</span>
<span class="gp">uart:~$ </span>knx dev ia <span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>Configure the Sensor device by adding entries to Sensor’s Group Object Table with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">got</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx got add <span class="m">1</span> /p/1 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Set device installation identifier and device individual address for Sensor device with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">dev</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx dev iid <span class="m">1</span>
<span class="gp">uart:~$ </span>knx dev ia <span class="m">2</span>
</pre></div>
</div>
</li>
<li><p>Devices are configured.
Use sensor’s BUTTON1 to disable or enable all of the assigned actuator’s LEDs.
Usage of the other buttons has no effect.
The interconnections between buttons and LEDs are presented in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Control button
(Sensor)</p></th>
<th class="head"><p>Controlled LEDs
(Actuator)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUTTON1</p></td>
<td><p>LED1, LED2, LED3, LED4</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
<div class="section" id="example-2-one-button-mapped-to-one-led">
<h2>Example 2 - one button mapped to one LED<a class="headerlink" href="#example-2-one-button-mapped-to-one-led" title="Permalink to this headline">¶</a></h2>
<p>Having Thread network configured and operational, you can start KNX IoT device configuration and testing.
One device must be configured as an Actuator and one as a Sensor.</p>
<p>We need to perform configuration/mapping of buttons built in to KNX IoT Sensor <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> to control LEDs built in to the KNX IoT Actuator <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> - one button to one LED.
It is achieved by dedicated on KNX group to every input-output pair.</p>
<ol class="arabic">
<li><p>Configure the Actuator device by adding entries to Actuator’s Group Object Table with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">got</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx got add <span class="m">1</span> /p/1 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">2</span> /p/2 <span class="m">22</span> <span class="o">[</span><span class="m">2</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">3</span> /p/3 <span class="m">22</span> <span class="o">[</span><span class="m">3</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">4</span> /p/4 <span class="m">22</span> <span class="o">[</span><span class="m">4</span><span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Set device installation identifier and device individual address for Actuator device with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">dev</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx dev iid <span class="m">1</span>
<span class="gp">uart:~$ </span>knx dev ia <span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>Configure the Sensor device by adding entries to Sensor’s Group Object Table with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">got</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx got add <span class="m">1</span> /p/1 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">2</span> /p/2 <span class="m">22</span> <span class="o">[</span><span class="m">2</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">3</span> /p/3 <span class="m">22</span> <span class="o">[</span><span class="m">3</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">4</span> /p/4 <span class="m">22</span> <span class="o">[</span><span class="m">4</span><span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Set device installation identifier and device individual address for Sensor device with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">dev</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx dev iid <span class="m">1</span>
<span class="gp">uart:~$ </span>knx dev ia <span class="m">2</span>
</pre></div>
</div>
</li>
<li><p>Devices are configured.
Use one of the sensor’s buttons to control one of the assigned actuator’s LEDs.
The interconnections between buttons and LEDs are presented in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Control button
(Sensor)</p></th>
<th class="head"><p>Controlled LED
(Actuator)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUTTON1</p></td>
<td><p>LED1</p></td>
</tr>
<tr class="row-odd"><td><p>BUTTON2</p></td>
<td><p>LED2</p></td>
</tr>
<tr class="row-even"><td><p>BUTTON3</p></td>
<td><p>LED3</p></td>
</tr>
<tr class="row-odd"><td><p>BUTTON4</p></td>
<td><p>LED4</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
<div class="section" id="example-3-mixed-configuration">
<h2>Example 3 - Mixed configuration<a class="headerlink" href="#example-3-mixed-configuration" title="Permalink to this headline">¶</a></h2>
<p>Having Thread network configured and operational, you can start KNX IoT device configuration and testing.
One device must be configured as an Actuator and one as a Sensor.</p>
<p>We need to perform configuration/mapping of buttons built in to KNX IoT sensor to control LEDs built in to the KNX IoT Actuator - one button to one LED.
It is achieved by setting KNX Actuator <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Kits/nRF52840-DK">Nordic nRF52840 DK</a> to receive events from multple groups.</p>
<ol class="arabic">
<li><p>Configure Actuator device by adding entries to Actuator’s Group Object Table - command <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">got</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx got add <span class="m">1</span> /p/1 <span class="m">22</span> <span class="o">[</span><span class="m">1</span>,2,3,4<span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">2</span> /p/2 <span class="m">22</span> <span class="o">[</span><span class="m">2</span>,3,4<span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">3</span> /p/3 <span class="m">22</span> <span class="o">[</span><span class="m">3</span>,4<span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">4</span> /p/4 <span class="m">22</span> <span class="o">[</span><span class="m">4</span><span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Set device installation identifier and device individual address for Actuator device with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">dev</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx dev iid <span class="m">1</span>
<span class="gp">uart:~$ </span>knx dev ia <span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>Configure Sensor device by adding entries to Sensor’s Group Object Table - command <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">got</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx got add <span class="m">1</span> /p/1 <span class="m">22</span> <span class="o">[</span><span class="m">1</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">2</span> /p/2 <span class="m">22</span> <span class="o">[</span><span class="m">2</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">3</span> /p/3 <span class="m">22</span> <span class="o">[</span><span class="m">3</span><span class="o">]</span>
<span class="gp">uart:~$ </span>knx got add <span class="m">4</span> /p/4 <span class="m">22</span> <span class="o">[</span><span class="m">4</span><span class="o">]</span>
</pre></div>
</div>
</li>
<li><p>Set device installation identifier and device individual address for Sensor device with the <code class="docutils literal notranslate"><span class="pre">knx</span> <span class="pre">dev</span></code> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>knx dev iid <span class="m">1</span>
<span class="gp">uart:~$ </span>knx dev ia <span class="m">2</span>
</pre></div>
</div>
</li>
<li><p>Devices are configured. Use one of the sensor’s buttons to control one or many of the assigned actuator’s LEDs.
The interconnections between buttons and LEDs are presented in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Control button
(Sensor)</p></th>
<th class="head"><p>Controlled LEDs
(Actuator)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUTTON1</p></td>
<td><p>LED1</p></td>
</tr>
<tr class="row-odd"><td><p>BUTTON2</p></td>
<td><p>LED1, LED2</p></td>
</tr>
<tr class="row-even"><td><p>BUTTON3</p></td>
<td><p>LED1, LED2, LED3</p></td>
</tr>
<tr class="row-odd"><td><p>BUTTON4</p></td>
<td><p>LED1, LED2, LED3, LED4</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
<div class="section" id="sniffing-knx-iot-point-api-communication">
<h2>Sniffing KNX IoT Point API communication<a class="headerlink" href="#sniffing-knx-iot-point-api-communication" title="Permalink to this headline">¶</a></h2>
<p>In order to inspect the packets exchanged between KNX devices 802.15.4 sniffer can be used.
After setting up the Wireshark as described in <a class="reference internal" href="../setting_up_knxiot_environment/setting_up_hardware.html#sniffer-configuration"><span class="std std-ref">sniffer configuration</span></a> with regard to default configuration specified in <a class="reference internal" href="#starting-thread-network"><span class="std std-ref">Starting Thread Network</span></a> section we can capture CoAP messages sent through a default port (5683).</p>
<div class="figure align-default" id="id2">
<img alt="../_images/example_capture.png" src="../_images/example_capture.png" />
<p class="caption"><span class="caption-text">Figure: Capture of CoAP messages</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-default" id="id3">
<img alt="../_images/example_coap_packet.png" src="../_images/example_coap_packet.png" />
<p class="caption"><span class="caption-text">Figure: Content of CoAP message</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../knxiot_release_notes.html" class="btn btn-neutral float-right" title="Release notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nordic_knxiot_cli.html" class="btn btn-neutral" title="KNX IoT Point API stack configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2023, Nordic Semiconductor.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../_static/images/nordic.svg" border="0"/></a>
</td>
</tr>
</table>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 


</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>